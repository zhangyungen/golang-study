# runner.conf
root:              . # 监控的根目录
tmp_path:          ./tmp # 临时文件路径
build_name:        runner-build # 编译后的二进制文件名
build_log:         runner-build-errors.log # 编译错误日志
log_size_mb:       10
no_rebuild:        false # 必须为 false，开启重建
valid_ext:         .go, .tpl, .tmpl, .html, .css, .js # 监控的文件扩展名
build_delay:       1000 # 延迟毫秒
colors:            true

# !!! 核心配置：使用 dlv 来执行编译后的程序 !!!
# 假设您的项目编译入口是 ./cmd/main.go
command:           dlv  # 不再直接运行二进制，而是运行 dlv
args:              [
  "--listen=:2345", # 指定 dlv 调试器监听的端口，Goland 将连接到此
  "--headless=true", # 以无头模式运行（没有UI，作为后端调试服务）
  "--api-version=2",
  "--accept-multiclient", # 接受多个客户端连接（方便重连）
  "exec",
  "./tmp/runner-build" # 执行 fresh 刚编译好的二进制文件
]